(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(28)},23:function(e,t,n){e.exports=n.p+"static/media/android-chrome-192x192.33253a06.png"},24:function(e,t){e.exports="data:image/png;base64,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"},25:function(e,t,n){e.exports=n.p+"static/media/loader2.e211dc57.svg"},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(10),r=n.n(i),s=n(14),c=n(2),A=n.n(c),l=n(7),d=n(3),g=n(8),m=n(6),u=n(1),h=n(4),C=(window.require("fs"),{invalidQR:"Ung\xfcltiger QR-Code",invalidResponse:"Ubg\xfcltige Antwort vom Kassenserver",defaultError:"Unbekannter Fehler","This token already used":"Dieses Token wurde bereits verwendet","Your token time is expire":"Ihre Tokenzeit ist abgelaufen"});var p=function(e){return C.hasOwnProperty(e.message)?C[e.message]:C.hasOwnProperty(e)?C[e]:"".concat(e.whoIsGuilty," ").concat(C.defaultError)},k=n(13),v=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Anwendung";return Object(d.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).whoIsGuilty=a,e.message=n||e.message,e}return Object(h.a)(t,e),t}(Object(k.a)(Error)),K=n(11),S=n.n(K),f=n(12),w=n.n(f),b=window.require("fs");var y=function(e){b.appendFileSync("errors.log",JSON.stringify({message:e.message,stack:e.stack})+"\n\n")},J=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.setRef(this),this.startVideo()}},{key:"takeFoto",value:function(){var e=document.createElement("canvas"),t=e.getContext("2d");if(this.video&&this.video.readyState===this.video.HAVE_ENOUGH_DATA){e.hidden=!1,e.height=this.video.videoHeight,e.width=this.video.videoWidth,t.drawImage(this.video,0,0,e.width,e.height);var n=e.toDataURL(this.props.imageType||"image/jpeg",this.props.imageQuality||1);return e.remove(),n}}},{key:"startVideo",value:function(){var e=Object(l.a)(A.a.mark(function e(){var t,n,a,o,i;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.video=document.getElementById("video"),t=this.props,n=t.width,a=t.height,o=this.props.constraints?this.props.constraints:{video:{facingMode:"environment",width:n,height:a}},e.prev=3,e.next=6,navigator.mediaDevices.getUserMedia(o);case 6:i=e.sent,this.video.srcObject=i,this.stream=i,this.video.play(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}},e,this,[[3,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.style;e.width,e.height;return console.log(t),o.a.createElement(o.a.Fragment,null,o.a.createElement("video",{id:"video",style:t}))}}]),t}(a.Component),q=window.require("electron").remote.app.getVersion(),I=window.require("electron"),E=I.clipboard,Q=I.shell,N=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={step:2,urlId:null,scanning:!0,downloadURL:null,errors:[],orientationAngle:0,canvasWidth:442,canvasHeight:642},n.sendFile=Object(l.a)(A.a.mark(function e(){var t,a,o,i,r,s,c,l,d;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="http://reorder2-dev.telenorma.info:7777/image",document.getElementById("loader").style.display="block",e.prev=2,n.setState({uploading:!0}),a=w()(n.state.imageSrc),(o=new FormData).append("image",a,"tmp.jpeg"),e.next=9,window.fetch(t,{method:"POST",body:o});case 9:return i=e.sent,e.next=12,i.text();case 12:return r=e.sent,s="".concat(t,"/").concat(r),(c=new FormData).set("data",JSON.stringify({url:s})),c.set("token",n.state.token),e.next=19,window.fetch("".concat(n.state.url,"api/add_image/"),{method:"POST",body:c});case 19:return l=e.sent,d={},e.prev=21,e.next=24,l.json();case 24:d=e.sent,console.log(d),e.next=31;break;case 28:throw e.prev=28,e.t0=e.catch(21),new v("invalidResponse","Server");case 31:if(!d.hasOwnProperty("error")){e.next=33;break}throw new v(d.error,"Server");case 33:n.setState({downloadURL:s,step:4,uploading:!1}),e.next=42;break;case 36:e.prev=36,e.t1=e.catch(2),e.t1.hasOwnProperty("whoIsGuilty")||(e.t1=new v(e.t1.message,"Server")),n.setState({step:1,uploading:!1}),n.startVideo(),n.errorHandler(e.t1);case 42:case"end":return e.stop()}},e,null,[[2,36],[21,28]])})),n.setRef=function(e){n.webcam=e},n.capture=Object(l.a)(A.a.mark(function e(){var t,a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.webcam.takeFoto(),e.next=3,n.rotateBase64Image(t);case 3:a=e.sent,console.log(window.screen.orientation.type),n.setState({imageSrc:a,step:3});case 6:case"end":return e.stop()}},e)})),n}return Object(h.a)(t,e),Object(g.a)(t,[{key:"setAngle",value:function(){var e=0,t=442,n=642;switch(window.screen.orientation.angle){case 90:e=-90,t=642,n=442;break;case 270:e=90,t=642,n=442;break;case 180:e=-180,t=442,n=642}this.setState({orientationAngle:e,canvasWidth:t,canvasHeight:n})}},{key:"rotateBase64Image",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return new Promise(function(a){var o=new Image;o.src=e,o.onload=function(){console.log("".concat(o.width,"x").concat(o.height)),t.height=o.width,t.width=o.height,n.rotate(90*Math.PI/180),n.translate(0,-t.width),console.log(window.screen.orientation.type),n.drawImage(o,0,0),a(t.toDataURL("image/jpeg",100))}})}},{key:"screenOrientation",value:function(){var e=this;this.setAngle(),window.screen.orientation.addEventListener("change",function(){e.setAngle(),console.log("new orientation is ",window.screen.orientation,e.state.orientationAngle)})}},{key:"startVideo",value:function(){var e=this,t=document.getElementById("video");navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(n){t.srcObject=n,t.play(),requestAnimationFrame(e.tick.bind(e))}).catch(function(t){var n=t;"TrackStartError"==t.name&&""==t.message&&(n=new v("Camera is not available, please disable other processes that use the camera.")),setTimeout(function(){e.startVideo()},3e3),e.errorHandler(n)})}},{key:"componentDidMount",value:function(){this.screenOrientation()}},{key:"drawLine",value:function(e,t,n){var a=document.getElementById("canvas").getContext("2d");a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.lineWidth=4,a.strokeStyle=n,a.stroke()}},{key:"tick",value:function(){try{var e=document.getElementById("video"),t=document.getElementById("canvas"),n=t.getContext("2d"),a=null;if(e&&e.readyState===e.HAVE_ENOUGH_DATA){t.hidden=!1,t.height=e.videoHeight,t.width=e.videoWidth,n.drawImage(e,0,0,t.width,t.height);var o=n.getImageData(0,0,t.width,t.height);if(a=S()(o.data,o.width,o.height,{inversionAttempts:"dontInvert"})){this.drawLine(a.location.topLeftCorner,a.location.topRightCorner,"#e81d1d"),this.drawLine(a.location.topRightCorner,a.location.bottomRightCorner,"#e81d1d"),this.drawLine(a.location.bottomRightCorner,a.location.bottomLeftCorner,"#e81d1d"),this.drawLine(a.location.bottomLeftCorner,a.location.topLeftCorner,"#e81d1d");var i=null;try{i=JSON.parse(a.data)}catch(r){throw new v("invalidQR")}if(!i.url)throw new v("invalidQR");e.pause(),this.setState(Object(s.a)({},i,{scanning:!1,step:2}))}}a||requestAnimationFrame(this.tick.bind(this))}catch(c){requestAnimationFrame(this.tick.bind(this)),this.errorHandler(c)}}},{key:"renderStep",value:function(e){}},{key:"clearErrors",value:function(){this.setState({errors:[]})}},{key:"errorHandler",value:function(e){console.trace("error:",e,e.errorSide),console.trace("error keys:",Object.keys(e));var t=this.state.errors;t.includes(p(e))||(t.push(p(e)),y(e),this.setState({errors:t}))}},{key:"render",value:function(){var e=this,t=(this.state.scanning,this.state.step);!this.state.scanning&&this.state.imageSrc,this.state.imageSrc&&this.state.downloadURL;return o.a.createElement("div",{className:"App ".concat("")},o.a.createElement("div",{className:"App-header"},o.a.createElement("div",{className:"logo"},o.a.createElement("img",{src:n(23)})),o.a.createElement("h2",null,"Beleg-Scanner")),1==t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,"Scannen von QR-Code"),o.a.createElement("canvas",{id:"canvas",hidden:!0,style:{transform:"rotate(".concat(this.state.orientationAngle,"deg)")}}),o.a.createElement("video",{id:"video",hidden:!0})),o.a.createElement(o.a.Fragment,null,2==t&&"portrait-primary"!=window.screen.orientation.type&&o.a.createElement("div",null,o.a.createElement("img",{width:250,src:n(24),alt:""}),o.a.createElement("div",null,"Bitte drehen Sie das Tablet um")),2==t&&"portrait-primary"===window.screen.orientation.type&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("h4",null,"Bitte nehmen Sie ein Foto Ihres Belegs auf"),this.state.urlId&&o.a.createElement("div",{id:"output"},o.a.createElement("h4",null,"URL:ID",this.state.urlId)),o.a.createElement(J,{setRef:this.setRef,style:{transform:"rotate(".concat(this.state.orientationAngle,"deg)")},width:this.state.canvasWidth,height:this.state.canvasHeight}),o.a.createElement("div",{className:"mt-3"},o.a.createElement("button",{className:"btn btn-primary custom-btn",onClick:this.capture},"Photo aufnehmen")))),3==t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,"Aufgenommener Beleg"),o.a.createElement("img",{id:"photo-taken",src:"data:image/jpeg;base64".concat(this.state.imageSrc)}),o.a.createElement("img",{id:"loader",src:n(25)}),!this.state.uploading&&o.a.createElement("div",{className:"mt-3"},o.a.createElement("div",{className:"btn btn-primary mr-2 custom-btn",onClick:this.sendFile},"Foto hochladen"),o.a.createElement("div",{className:"btn btn-secondary mr-2 custom-btn",onClick:function(){return e.setState({imageSrc:null,step:2})}},"Anderes Foto aufnehmen"),o.a.createElement("div",{className:"btn btn-secondary custom-btn",onClick:function(){e.setState({scanning:!0,step:1},function(){e.startVideo()})}},"Neue QR-Code einscannen"))),4==t&&o.a.createElement("div",{className:"container py-3"},o.a.createElement("p",{className:"step4-thankyou"},"Vielen Dank! Die Datei wurde hochgeladen. Bitte \xfcberpr\xfcfen Sie den Link unten."),o.a.createElement("div",{className:"step4-block col-md-6"},o.a.createElement("p",null,"Link"),o.a.createElement("input",{type:"text",value:this.state.downloadURL,onChange:function(){}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-primary custom-btn",type:"button",onClick:function(){return E.writeText(e.state.downloadURL)}},"Kopieren"),o.a.createElement("button",{className:"btn btn-primary custom-btn",type:"button",onClick:function(t){t.preventDefault(),Q.openExternal(e.state.downloadURL)}},"Herunterladen"))),o.a.createElement("button",{className:"btn btn-primary custom-btn",onClick:function(){e.setState({scanning:!0,step:1},function(){e.startVideo()})}},"Andere QR-Code einscannen"))),o.a.createElement("div",{className:"version pr-3"},"version: ",q))}}]),t}(a.Component);n(26),n(27);r.a.render(o.a.createElement(N,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c2582db1.chunk.js.map